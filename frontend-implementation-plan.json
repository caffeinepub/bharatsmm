{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "BharatSMM Panel â€” Frontend Implementation",
  "requirements": [
    {
      "id": "REQ-2",
      "summary": "Build multi-page React frontend with Dashboard, New Order, Orders, Services, Add Funds, and Profile pages",
      "acceptanceCriteria": [
        "Navigation sidebar or top nav links to all pages.",
        "New Order page computes and displays the order total in real time as quantity changes.",
        "Orders page shows a colored status badge (Pending = yellow, Processing = blue, Completed = green, Cancelled = red).",
        "All data is fetched from the backend canister via React Query hooks.",
        "Forms show loading and error states."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/Sidebar.tsx",
          "operation": "create",
          "description": "Create a persistent sidebar navigation component for desktop with collapsible support on mobile. Include the BharatSMM logo at the top using the generated asset at frontend/public/assets/generated/bharatsmm-logo.dim_256x256.png. Add navigation links to Dashboard, New Order, Orders, Services, Add Funds, and Profile pages. Use the authorization component to display login/logout functionality and conditionally render navigation based on authentication state."
        },
        {
          "path": "frontend/src/pages/Dashboard.tsx",
          "operation": "create",
          "description": "Create the Dashboard page showing account balance summary (fetched via getBalance backend query), recent orders count, and a quick-order shortcut button linking to the New Order page. Use React Query hooks to fetch balance data. Display loading and error states. Require user authentication using the authorization component before showing any data."
        },
        {
          "path": "frontend/src/pages/NewOrder.tsx",
          "operation": "create",
          "description": "Create the New Order page with a service category selector (filter by Category enum), service dropdown populated from listServices backend query showing price/min/max info, link input field, quantity input with validation against min/max order limits, real-time order total calculator that updates as quantity changes, and a submit button that calls placeOrder backend function. Show loading states during submission and error messages on failure. Require user role authentication using the authorization component."
        },
        {
          "path": "frontend/src/pages/Orders.tsx",
          "operation": "create",
          "description": "Create the Orders page with a paginated table displaying past orders fetched via listOrdersByUser backend query. Show columns for order ID, service name (resolved from service ID), link, quantity, status badge with color coding (Pending = yellow, Processing = blue, Completed = green, Cancelled = red), and creation date. Implement client-side pagination. Require user authentication using the authorization component to view orders."
        },
        {
          "path": "frontend/src/pages/Services.tsx",
          "operation": "create",
          "description": "Create the Services page as a read-only catalog listing all available services fetched via listServices backend query. Group services by category (Instagram, YouTube, Twitter/X, Facebook, TikTok, Telegram) and display service name, description, price per 1000, minimum order, and maximum order for each. This page is public and does not require authentication."
        },
        {
          "path": "frontend/src/pages/AddFunds.tsx",
          "operation": "create",
          "description": "Create the Add Funds page displaying the current user balance fetched via getBalance backend query and a form with an amount input field and submit button to request a balance top-up (note: actual payment processing is a non-goal, so this form should display a message indicating top-up requests are pending admin approval). Show loading and error states. Require user authentication using the authorization component."
        },
        {
          "path": "frontend/src/pages/Profile.tsx",
          "operation": "create",
          "description": "Create the Profile page displaying the logged-in user's principal ID and user profile information fetched via getCallerUserProfile backend query. Show the user's name and email if a profile exists. If no profile exists, display a profile setup form using saveCallerUserProfile backend function following the authorization component's user profile setup pattern. Require user authentication using the authorization component."
        },
        {
          "path": "frontend/src/hooks/useServices.ts",
          "operation": "create",
          "description": "Create a React Query hook to fetch the list of SMM services from the listServices backend query. Export useServices hook that returns the services array, loading state, and error state. This hook does not require authentication as the services endpoint is public."
        },
        {
          "path": "frontend/src/hooks/useOrders.ts",
          "operation": "create",
          "description": "Create React Query hooks to fetch and manage orders. Export useOrdersByUser hook that calls listOrdersByUser backend query with the current user's principal. Export usePlaceOrder mutation hook that calls placeOrder backend function. Include proper error handling and cache invalidation after successful order placement. Require authentication checks in the hooks."
        },
        {
          "path": "frontend/src/hooks/useBalance.ts",
          "operation": "create",
          "description": "Create a React Query hook to fetch the current user's balance from the getBalance backend query. Export useBalance hook that returns the balance amount, loading state, and error state. Require user authentication before fetching balance."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Configure React Router with routes for all pages: / (Dashboard), /new-order (NewOrder), /orders (Orders), /services (Services), /add-funds (AddFunds), and /profile (Profile). Wrap the application with the Sidebar component for persistent navigation. Use the authorization component to ensure users must be logged in before accessing protected routes (all routes except Services). Add a profile setup modal that appears after login if the user has no profile, following the authorization component's pattern to prevent modal flash. On logout, clear all cached application data including React Query cache."
        },
        {
          "path": "frontend/src/components/OrderStatusBadge.tsx",
          "operation": "create",
          "description": "Create a reusable OrderStatusBadge component that takes an order status as a prop and renders a colored badge. Map status values to colors: pending = yellow (#eab308), processing = blue (#3b82f6), completed = green (#22c55e), cancelled/failed/refunded = red (#ef4444). Apply consistent badge styling with rounded corners and padding."
        },
        {
          "path": "frontend/src/components/ServiceSelector.tsx",
          "operation": "create",
          "description": "Create a reusable ServiceSelector component that displays a category filter and service dropdown. Accept a list of services, an onSelect callback, and render service options showing name, price per 1000, min/max order info. Use shadcn/ui Select component for the dropdown if available."
        },
        {
          "path": "frontend/src/utils/orderCalculations.ts",
          "operation": "create",
          "description": "Create utility functions for order cost calculations. Export calculateOrderTotal function that takes a service price per 1000 and quantity, returning the total cost. Export formatCurrency function for displaying monetary values consistently throughout the app."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Apply bold, professional dark theme with navy background, orange-red accent, and sidebar layout",
      "acceptanceCriteria": [
        "Dark background is applied globally.",
        "Accent color is used on buttons, active nav items, and highlighted figures.",
        "Sidebar is persistent on desktop and collapsible on mobile.",
        "Typography is clean and readable on dark backgrounds."
      ],
      "file_operations": [
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Update global styles to apply a dark navy/charcoal background (#0f172a for body, #1e293b for secondary surfaces). Set default text color to white (#ffffff) for readability on dark backgrounds. Define CSS custom properties for the vibrant orange-red accent color (#f97316 primary, #ef4444 for error/destructive states). Ensure clean sans-serif typography (use system font stack or existing Tailwind defaults). Add base styles for card surfaces with subtle shadows."
        },
        {
          "path": "frontend/tailwind.config.js",
          "operation": "modify",
          "description": "Extend the Tailwind theme to include BharatSMM brand colors: navy background (#0f172a, #1e293b), orange-red accent (#f97316, #ef4444), and white for card surfaces. Configure sidebar width and responsive breakpoints for mobile collapsible behavior. Ensure button, badge, and interactive element classes use the accent colors for hover/focus states."
        },
        {
          "path": "frontend/src/components/Layout.tsx",
          "operation": "create",
          "description": "Create a Layout component that wraps the Sidebar and main content area. Apply the dark navy background to the layout container. Configure the sidebar to be persistent on desktop (min-width: 768px) and collapsible with a toggle button on mobile. Ensure the main content area has proper padding and uses the secondary background color (#1e293b) for content cards."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Display generated BharatSMM logo in sidebar header",
      "acceptanceCriteria": [
        "Logo image is displayed in the sidebar at an appropriate size.",
        "Image is loaded from the static assets path."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/Sidebar.tsx",
          "operation": "modify",
          "description": "Add an img element at the top of the Sidebar component that loads the generated BharatSMM logo from the workspace path frontend/public/assets/generated/bharatsmm-logo.dim_256x256.png. Set the img src to '/assets/generated/bharatsmm-logo.dim_256x256.png' (public URL path). Apply appropriate sizing (e.g., width: 48px or 64px) and alt text 'BharatSMM Logo'. Position the logo above the navigation links with proper spacing."
        }
      ]
    }
  ]
}